{Formulario que permite visualizar a un objeto boleta}
unit FormBoleta;
{$mode objfpc}{$H+}
interface
uses
  Classes, SysUtils, FileUtil, Forms, Controls, Graphics, Dialogs, ExtCtrls,
  Buttons, Grids, StdCtrls, CPBoletas;
type
  { TfrmBoleta }
  TfrmBoleta = class(TForm)
    BitBtn1: TBitBtn;
    BitBtn2: TBitBtn;
    txtTotal: TEdit;
    Label1: TLabel;
    Panel1: TPanel;
    grilla: TStringGrid;
  private
    bol: TCPBoleta;
  public
    procedure Exec(bol0: TCPBoleta);
  end;

var
  frmBoleta: TfrmBoleta;

implementation
{$R *.lfm}
{ TfrmBoleta }
procedure TfrmBoleta.Exec(bol0: TCPBoleta);
var
  it : TCPItemBoleta;
  f: Integer;
begin
  bol := bol0;
  grilla.BeginUpdate;
  f := 1;
  grilla.RowCount:=1;  //limpia datos
  for it in bol.items do begin
    grilla.RowCount := f+1;
    grilla.Cells[1,f] := FloatToStr(it.Cant);
    grilla.Cells[2,f] := it.descr;
    grilla.Cells[3,f] := FloatToStr(it.pUnit);
    grilla.Cells[4,f] := FloatToStr(it.subtot);
    f := f + 1;
  end;
  grilla.EndUpdate();
  txtTotal.Text:=bol.TotPag;
  self.Show;
end;

end.

